type: 'custom:button-card'
template: container
name: 3D Printer
custom_fields:
  buttons:
    card:
      type: horizontal-stack
      cards:
        - type: vertical-stack
          cards:
            - type: picture-entity
              aspect_ratio: 60%
              camera_view: auto
              entity: camera.frontdoor
              hold_action:
                action: none
              show_name: false
              show_state: false
              tap_action:
                action: more-info
            - type: conditional
              conditions:
                - entity: sensor.octoprint_current_state
                  state_not: 'unavailable'
              card:
                type: vertical-stack
                cards:
                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        template: wide
                        entity: sensor.octoprint_printer_power_current_power
                        name: Power Draw
                        icon: 'mdi:power-plug'
                        show_icon: true
                        show_name: true
                        show_state: false
                        styles:
                          card:
                            - height: 31px
                              border-radius: 0.1em 0.1em 0.1em 0.1em
                        state:
                          - value: 'True'
                            name: Heating
                            color: 'rgb(255,0,0)'
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                      - type: 'custom:button-card'
                        entity: sensor.octoprint_printer_power_current_power
                        show_name: false
                        show_icon: false
                        show_state: true
                        styles:
                          card:
                            - height: 31px
                        tap_action:
                          action: none
                        hold_action:
                          action: none

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        template: wide
                        entity: sensor.octoprint_printer_power_energy_use_today
                        name: Used Today
                        icon: 'mdi:lightning-bolt'
                        show_icon: true
                        show_name: true
                        show_state: false
                        styles:
                          card:
                            - height: 31px
                              border-radius: 0.1em 0.1em 0.1em 0.1em
                        state:
                          - value: 'True'
                            name: Heating
                            color: 'rgb(255,0,0)'
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                      - type: 'custom:button-card'
                        entity: sensor.octoprint_printer_power_energy_use_today
                        show_name: false
                        show_icon: false
                        show_state: true
                        styles:
                          card:
                            - height: 31px
                        tap_action:
                          action: none
                        hold_action:
                          action: none

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        template: light_colors
                        entity: light.lifx5
                        icon: 'mdi:palette'
                        show_name: false
                        styles:
                          card:
                            - height: 72px
                      - type: 'custom:button-card'
                        template: light_colors
                        entity: light.lifx6
                        icon: 'mdi:palette'
                        show_name: false
                        styles:
                          card:
                            - height: 72px

        - type: vertical-stack
          cards:
            - type: horizontal-stack
              cards:
                - type: 'custom:button-card'
                  entity: sensor.octoprint_current_state_rename
                  tap_action:
                    action: more-info
                  hold_action:
                    action: none
                  show_icon: false
                  show_name: false
                  show_state: true
                  styles:
                    card:
                      - height: 31px
                  state:
                    - value: Disconnected
                      styles:
                        state:
                          - color: 'rgb(255,255,255)'
                    - value: Printing
                      styles:
                        state:
                          - color: 'rgb(0,255,0)'
                    - value: Idle
                      styles:
                        state:
                          - color: 'rgb(225,255,0)'
                    - value: Unknown
                      styles:
                        state:
                          - color: 'rgb(255,0,0)'
                - type: conditional
                  conditions:
                    - entity: sensor.octoprint_current_state
                      state_not: 'unavailable'
                  card:
                    type: 'custom:button-card'
                    entity: sensor.octoprint_job_percentage
                    tap_action:
                      action: none
                    hold_action:
                      action: none
                    show_icon: false
                    show_name: false
                    show_state: true
                    styles:
                      card:
                        - height: 31px

            - type: conditional
              conditions:
                - entity: sensor.octoprint_current_state
                  state: 'unavailable'
              card:
                type: horizontal-stack
                cards:
                  - type: 'custom:button-card'
                    template: standard
                    entity: group.lights_living_closet
                    icon: 'mdi:palette'
                    show_name: false
                    styles:
                      card:
                        - height: 72px
                          border-radius: 0.7em 0.7em 0.7em 0.7em
                  - type: 'custom:button-card'
                    template: standard
                    entity: switch.octoprint_printer_power
                    name: Power
                    icon: 'mdi:power'
                    lock:
                      enabled: true
                    styles:
                      card:
                        - height: 72px
                          border-radius: 0.7em 0.7em 0.7em 0.7em
                    state:
                      - value: on
                        styles:
                          icon:
                            - color: 'rgb(255,0,0)'

            - type: conditional
              conditions:
                - entity: sensor.octoprint_current_state
                  state_not: 'unavailable'
              card:
                type: vertical-stack
                cards:

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        template: wide
                        entity: sensor.octoprint_time_printing
                        name: Time Elapsed
                        icon: 'mdi:timer-outline'
                        show_icon: true
                        show_name: true
                        show_state: false
                        styles:
                          card:
                            - height: 31px
                              border-radius: 0.1em 0.1em 0.1em 0.1em
                        state:
                          - value: 'True'
                            name: Heating
                            color: 'rgb(255,0,0)'
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                      - type: 'custom:button-card'
                        entity: sensor.octoprint_time_printing
                        show_name: false
                        show_icon: false
                        show_state: true
                        styles:
                          card:
                            - height: 31px
                        tap_action:
                          action: none
                        hold_action:
                          action: none

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        template: wide
                        entity: sensor.octoprint_start_time
                        name: Time Left
                        icon: 'mdi:timer'
                        show_icon: true
                        show_name: true
                        show_state: false
                        styles:
                          card:
                            - height: 31px
                              border-radius: 0.1em 0.1em 0.1em 0.1em
                        state:
                          - value: 'True'
                            name: Heating
                            color: 'rgb(255,0,0)'
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                      - type: 'custom:button-card'
                        entity: sensor.octoprint_time_remaining_estimated
                        show_name: false
                        show_icon: false
                        show_state: true
                        styles:
                          card:
                            - height: 31px
                        tap_action:
                          action: none
                        hold_action:
                          action: none

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        template: wide
                        entity: sensor.octoprint_temp_tool0_heating
                        name: Nozzle
                        icon: 'mdi:printer-3d-nozzle'
                        show_icon: true
                        show_name: true
                        show_state: false
                        styles:
                          card:
                            - height: 31px
                              border-radius: 0.1em 0.1em 0.1em 0.1em
                        state:
                          - value: 'True'
                            name: Heating
                            color: 'rgb(255,0,0)'
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                      - type: 'custom:button-card'
                        entity: sensor.octoprint_temp_tool0_actual
                        show_name: false
                        show_icon: false
                        show_state: true
                        styles:
                          card:
                            - height: 31px
                        tap_action:
                          action: none
                        hold_action:
                          action: none

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        template: wide
                        entity: sensor.octoprint_temp_bed_heating
                        name: Print Bed
                        icon: 'mdi:printer-3d'
                        show_icon: true
                        show_name: true
                        show_state: false
                        styles:
                          card:
                            - height: 31px
                              border-radius: 0.1em 0.1em 0.1em 0.1em
                        state:
                          - value: 'True'
                            name: Heating
                            color: 'rgb(255,0,0)'
                        tap_action:
                          action: none
                        hold_action:
                          action: none
                      - type: 'custom:button-card'
                        entity: sensor.octoprint_temp_bed_actual
                        show_name: false
                        show_icon: false
                        show_state: true
                        styles:
                          card:
                            - height: 31px
                        tap_action:
                          action: none
                        hold_action:
                          action: none

                  - type: horizontal-stack
                    cards:
                      - type: 'custom:button-card'
                        template: standard
                        entity: button.octoprint_stop_job
                        name: Stop Print
                        icon: 'mdi:printer-3d-nozzle-alert-outline'
                        lock:
                          enabled: true
                        styles:
                          card:
                            - height: 72px
                        tap_action:
                          action: call-service
                          service: button.press
                          service_data:
                            entity_id: button.octoprint_stop_job
                        hold_action:
                          action: none
                      - type: 'custom:button-card'
                        template: standard
                        entity: switch.octoprint_printer_power
                        name: Power
                        icon: 'mdi:power'
                        lock:
                          enabled: true
                        styles:
                          card:
                            - height: 72px
